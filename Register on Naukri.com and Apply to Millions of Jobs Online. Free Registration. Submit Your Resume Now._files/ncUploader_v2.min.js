/*!
 * Naukri.com Uploader Library
 * http://www.naukri.com/
 *
 * Author: Naukri.com
 * Copyright 2014 Naukri.com
 */
;var ncUploaderUtil={getRandomString:function(){return(new Date().getTime())+"_"+((Math.random()+"").replace(".","_"))},createElement:function(e,a){var d=navigator.userAgent.match(/MSIE 7/)!==null;if(d){e=e=="iframe"&&typeof a.name!="undefined"?'<iframe name="'+a.name+'"/>':(e=="form"&&typeof a.enctype!="undefined"?'<form enctype="'+a.enctype+'">':e)}var c=document.createElement(e);if(d&&typeof a.style!="undefined"){c.style.cssText=a.style}for(var b in a){c.setAttribute(b,a[b])}return c}};var ncUploader=function(c){var a=function(d){d.params=c;var e;if(b()){ncAdvancedUploder.prototype=d;e=new ncAdvancedUploder()}else{ncBasicUploader.prototype=d;e=new ncBasicUploader()}return e};var b=function(){return c.forceBasicUploader!==true&&typeof File!="undefined"&&typeof FileList!="undefined"};return a(this)};var ncBasicUploader=function(){var construct=function(me2){me=me2;fixChrome36InfiniteLoopBug=false;file=getCurrentFile();addEventListeners(file);hideDropArea();showUploadContainer();return me};var getCurrentFile=function(){return document.getElementById(me.params.fileId)};var addEventListeners=function(aFile){if(typeof me.params.onchange!="undefined"){aFile.onchange=me.params.onchange}};var hideDropArea=function(){var dropArea=document.getElementById(me.params.dropAreaId);if(dropArea){dropArea.style.display="none"}};var showUploadContainer=function(){document.getElementById(me.params.containerId).style.display="block"};this.upload=function(){if(fixChrome36InfiniteLoopBug){return}fixChrome36InfiniteLoopBug=true;file=getCurrentFile();if(!file.value){fixChrome36InfiniteLoopBug=false;return}var validationDetails=validateBeforeUpload();if(!validationDetails.isValid){me.params.validationCallback.call(window,validationDetails.callbackArguments);fixChrome36InfiniteLoopBug=false;return}showProgressBar();var uploadFormId=createUploadForm();var uploadIframeName=createUploadIframe();submitUploadIframe(uploadFormId,uploadIframeName);fixChrome36InfiniteLoopBug=false};var validateBeforeUpload=function(){var isValid=true;var callbackArguments={};callbackArguments[me.params.fileId]={errors:[]};var isExtensionValid=false;var extension=file.value.slice(file.value.lastIndexOf(".")+1).toLowerCase();if(extension!=file.value){for(var i=0;i<me.params.extensions.length;++i){if(extension==me.params.extensions[i]){isExtensionValid=true;break}}}if(!isExtensionValid){isValid=false;callbackArguments[me.params.fileId].errors.push("INVALID_EXTENSION")}return{isValid:isValid,callbackArguments:callbackArguments}};var showProgressBar=function(){var basicProgressBar=document.getElementById(me.params.basicProgressBarId);if(basicProgressBar){basicProgressBar.style.display="block"}};var createUploadFormCallbackUrl=function(){return ncUploaderUtil.createElement("input",{type:"hidden",name:"uploadCallbackUrl",value:(location.origin||location.protocol+"//"+location.host)+me.params.callbackUrl})};var createUploadFormCallback=function(){var callbackName="uploadCallback_"+ncUploaderUtil.getRandomString();(function(me2){eval("window."+callbackName+' = function() {                 document.getElementById(me2.params.basicProgressBarId).style.display = "none";                 if (typeof me2.params.callback != "undefined") {                     me2.params.callback.apply(window, arguments);                 }             }')})(me);return ncUploaderUtil.createElement("input",{type:"hidden",name:"uploadCallback",value:callbackName})};var createUploadForm=function(){var formId="form_"+ncUploaderUtil.getRandomString();var form=ncUploaderUtil.createElement("form",{id:formId,method:"POST",enctype:"multipart/form-data",action:me.params.target});var newFile=file.cloneNode(true);addEventListeners(newFile);file.onchange=function(){};file.style.display="none";file.style.position="absolute";file.style.left="-1000px";file.parentNode.insertBefore(newFile,file);var appIdEle=ncUploaderUtil.createElement("input",{type:"hidden",name:"appId",value:me.params.appId});form.appendChild(file);form.appendChild(appIdEle);form.appendChild(createUploadFormCallbackUrl());form.appendChild(createUploadFormCallback());document.body.appendChild(form);return formId};var createUploadIframe=function(){var iframeName="iframe_"+ncUploaderUtil.getRandomString();var iframe=ncUploaderUtil.createElement("iframe",{name:iframeName,style:"position: absolute; top: -1000px; left: -1000px"});document.body.appendChild(iframe);return iframeName};var submitUploadIframe=function(formId,iframeName){var form=document.getElementById(formId);form.setAttribute("target",iframeName);form.submit()};var me,file,fixChrome36InfiniteLoopBug;return construct(this)};